{
  "openapi": "3.0.0",
  "info": {
    "title": "Auth APIs",
    "version": "1.0.0",
    "description": "API documentation for Auth endpoint"
  },
  "paths": {
    "/api/inventory/": {
      "post": {
        "tags": ["Inventory Controller"],
        "summary": "Creates an inventory entry",
        "description": "Creates an inventory entry with the provided details. Note that all amounts are in riyal. Only the item and client are mandatory fields.",
        "requestBody": {
          "content": {
            "application/json": {
              "example": {
                "item": "<Mongodb generated item id",
                "client": "<Mongodb generated client id>",
                "visaProfession": "<Mongodb generated visa profession id>",
                "nationality": "<Mongodb generated nationality id>",
                "quantity": 100,
                "embassy": "Indian Embassy",
                "cost": 1500,
                "total": 150000,
                "paidAmount": 50000,
                "pending": 100000,
                "currency": "SAR",
                "visaNumber": "V123456789",
                "unitedNumber": "U987654321",
                "establishmentNumber": "E123456789",
                "comments": "Urgent processing required",
                "modeOfPayment": "Card",
                "dateOfPayment": "2024-01-15"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successfully created the inventory entry.",
            "content": {
              "application/json": {
                "example": {
                  "message": "Created Succesfully.",
                  "data": null,
                  "status": true,
                  "httpResponse": 200,
                  "isError": false
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "example": {
                  "message": "Data validation error./Invalid parameter ID.",
                  "data": "<Error details or null>",
                  "status": false,
                  "httpResponse": 400,
                  "isError": true
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "example": {
                  "message": "Access Denied. No token provided./Invalid token/Access token expired at <Date>. Please login again.",
                  "data": "<Error details or null>",
                  "status": false,
                  "httpResponse": 401,
                  "isError": true
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "example": {
                  "message": "Internal server error/ Could not perform action.",
                  "data": "<Error details or null>",
                  "status": false,
                  "httpResponse": 500,
                  "isError": true
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": ["Inventory Controller"],
        "summary": "Fetches all the inventories.",
        "description": "This endpoint fetches all the inventories with minimum details if they exist in the system.",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            },
            "description": "The page number for pagination."
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 10
            },
            "description": "The number of inventories to return per page."
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "example": "John"
            },
            "description": "Optional search term to filter inventory by item, profession or country (english or arabic name), client name or phone, embassy, visa number, united number, establishment number, mode of payment and comments (if any)."
          }
        ],
        "responses": {
          "200": {
            "description": "Fetched successfully.",
            "content": {
              "application/json": {
                "example": {
                  "message": "Fetched successfully.",
                  "data": {
                    "page": 1,
                    "limit": 10,
                    "totalDocuments": 50,
                    "totalPages": 5,
                    "data": [
                      {
                        "item": {
                          "id": "<Mongodb generated item id>",
                          "name_en": "name_en",
                          "name_ar": "name_ar"
                        },
                        "client": {
                          "id": "<Mongodb generated client id>",
                          "name": "name",
                          "email": "johndoe@mail.com",
                          "countryCode": "+966",
                          "phone": "500000000"
                        },
                        "visaProfession": {
                          "id": "<Mongodb generated visa profession id>",
                          "name_en": "name_en",
                          "name_ar": "name_ar"
                        },
                        "nationality": {
                          "id": "<Mongodb generated country id>",
                          "name_en": "name_en",
                          "name_ar": "name_ar"
                        },
                        "quantity": 100,
                        "embassy": "Indian Embassy",
                        "cost": 1500,
                        "total": 150000,
                        "paidAmount": 50000,
                        "pending": 100000,
                        "currency": "SAR",
                        "visaNumber": "V123456789",
                        "unitedNumber": "U987654321",
                        "establishmentNumber": "E123456789",
                        "comments": "Urgent processing required",
                        "modeOfPayment": "Card",
                        "dateOfPayment": "2024-01-15",
                        "createdAt": "2024-01-01T00:00:00.000Z"
                      }
                    ]
                  },
                  "status": true,
                  "httpResponse": 200,
                  "isError": false
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "example": {
                  "message": "Access Denied. No token provided./Invalid token/Access token expired at <Date>. Please login again.",
                  "data": "<Error details or null>",
                  "status": false,
                  "httpResponse": 401,
                  "isError": true
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "example": {
                  "message": "Inventories not found.",
                  "data": "<Error details or null>",
                  "status": false,
                  "httpResponse": 404,
                  "isError": true
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "example": {
                  "message": "Internal server error/ Could not perform action.",
                  "data": "<Error details or null>",
                  "status": false,
                  "httpResponse": 500,
                  "isError": true
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Inventory Controller"],
        "summary": "Deletes the inventory entry.",
        "description": "Deletes the inventory entry if it exists in the system.",
        "requestBody": {
          "content": {
            "application/json": {
              "example": {
                "id": "<Mongodb generated inventory id>"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successfully deleted the inventory entry.",
            "content": {
              "application/json": {
                "example": {
                  "message": "Deleted Succesfully.",
                  "data": null,
                  "status": true,
                  "httpResponse": 200,
                  "isError": false
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "example": {
                  "message": "Data validation error/Invalid parameter ID.",
                  "data": "<Error details or null>",
                  "status": false,
                  "httpResponse": 400,
                  "isError": true
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "example": {
                  "message": "Access Denied. No token provided./Invalid token/Access token expired at <Date>. Please login again.",
                  "data": "<Error details or null>",
                  "status": false,
                  "httpResponse": 401,
                  "isError": true
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "example": {
                  "message": "Item with id: <id> not found.",
                  "data": "<Error details or null>",
                  "status": false,
                  "httpResponse": 404,
                  "isError": true
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "example": {
                  "message": "Internal server error/ Could not perform action.",
                  "data": "<Error details or null>",
                  "status": false,
                  "httpResponse": 500,
                  "isError": true
                }
              }
            }
          }
        }
      }
    },
    "/api/inventory/{id}": {
      "get": {
        "tags": ["Inventory Controller"],
        "summary": "Fetches the inventory information.",
        "description": "This endpoint fetches the inventory information with details if they exist in the system. Note that except for the item and client all other fields are optional",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "The mongodb generated id of the inventory."
          }
        ],
        "responses": {
          "200": {
            "description": "Fetched successfully.",
            "content": {
              "application/json": {
                "example": {
                  "message": "Fetched successfully.",
                  "data": {
                    "item": {
                      "id": "<Mongodb generated item id>",
                      "name_en": "name_en",
                      "name_ar": "name_ar"
                    },
                    "client": {
                      "id": "<Mongodb generated client id>",
                      "name": "name",
                      "countryCode": "+966",
                      "phone": "500000000",
                      "email": "johndoe@mail.com"
                    },
                    "visaProfession": {
                      "id": "<Mongodb generated visa profession id>",
                      "name_en": "name_en",
                      "name_ar": "name_ar"
                    },
                    "nationality": {
                      "id": "<Mongodb generated country id>",
                      "name_en": "name_en",
                      "name_ar": "name_ar"
                    },
                    "quantity": 100,
                    "embassy": "Indian Embassy",
                    "cost": 1500,
                    "total": 150000,
                    "paidAmount": 50000,
                    "pending": 100000,
                    "currency": "SAR",
                    "visaNumber": "V123456789",
                    "unitedNumber": "U987654321",
                    "establishmentNumber": "E123456789",
                    "comments": "Urgent processing required",
                    "modeOfPayment": "Card",
                    "dateOfPayment": "2024-01-15"
                  },
                  "status": true,
                  "httpResponse": 200,
                  "isError": false
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "example": {
                  "message": "Access Denied. No token provided./Invalid token/Access token expired at <Date>. Please login again.",
                  "data": "<Error details or null>",
                  "status": false,
                  "httpResponse": 401,
                  "isError": true
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "example": {
                  "message": "Inventories not found.",
                  "data": "<Error details or null>",
                  "status": false,
                  "httpResponse": 404,
                  "isError": true
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "example": {
                  "message": "Internal server error/ Could not perform action.",
                  "data": "<Error details or null>",
                  "status": false,
                  "httpResponse": 500,
                  "isError": true
                }
              }
            }
          }
        }
      }
    }
  }
}
